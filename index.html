<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./src/style.css" />
  </head>
  <body>
    <header>
      <nav
        class="max-w-[1920px] m-auto pt-[30px] pb-[40px] pl-[70px] pr-[57.5px] hidden desktop:flex flex-col"
      >
        <div class="flex items-center justify-between">
          <div class="flex gap-[79px] items-center">
            <img src="./public/svg/logo.svg" alt="logo" />
            <ul
              class="flex items-center text-[#FFFFFF] text-[24px] font-medium"
            >
              <a
                href="#"
                class="mr-[96px] transition-all duration-300 ease-out hover:-translate-y-1 hover:text-[#E13C52]"
                ><li>Movies</li></a
              >
              <a
                href="#"
                class="mr-[96px] transition-all duration-300 ease-out hover:-translate-y-1 hover:text-[#E13C52]"
                ><li>Series</li></a
              >
              <a
                href="#"
                class="mr-[96px] transition-all duration-300 ease-out hover:-translate-y-1 hover:text-[#E13C52]"
                ><li>Channels</li></a
              >
              <a
                href="#"
                class="transition-all duration-300 ease-out hover:-translate-y-1 hover:text-[#E13C52]"
                ><li>Music</li></a
              >
            </ul>
          </div>
          <div class="flex items-center gap-[70px]">
            <div class="flex gap-[8px] cursor-pointer">
              <img
                src="./public/svg/search-icon-desktop.svg"
                class="pt-[4px]"
                alt="search"
              />
              <p
                class="text-[#FFFFFF] text-[24px] font-semibold duration-300 hover:text-[#E13C52]"
              >
                Search
              </p>
            </div>
            <div class="flex gap-[8px] cursor-pointer">
              <img
                src="./public/svg/desktop-sing-in.svg"
                class="pt-[4px]"
                alt="search"
              />
              <p
                class="text-[#FFFFFF] text-[24px] font-semibold duration-300 hover:text-[#E13C52]"
              >
                Sign in
              </p>
            </div>
          </div>
        </div>
      </nav>
      <nav
        class="desktop:hidden pl-[20px] pr-[18px] min-h-[70px] max-w-[360px] m-auto"
      >
        <div class="flex justify-between">
          <div><img src="./public/svg/logo.svg" alt="logo" /></div>
          <div class="pt-[13px]">
            <button id="nav-sections" class="max-w-[45px] max-h-[45px]">
              <img src="./public/svg/mobile-nav-sections.svg" alt="sections" />
            </button>
          </div>
        </div>
      </nav>
      <section class="flex-col hidden desktop:flex">
        <div
          class="max-w-[1920px] w-full h-[1091.1px] bg-[url('/public/img/header-bg.png')] bg-cover bg-center m-auto pt-[318px] pl-[57px]"
        >
          <h1 class="mb-[60px] text-[48px] font-light">
            Dive into a <strong class="font-semibold">universe</strong> of
            <br />un-ending content and <br />channels
          </h1>
          <button
            class="w-[238px] h-[48px] rounded-[60px] bg-[#E13C52] text-[24px] duration-300 hover:bg-[#f40525]"
          >
            Start FREE trial
          </button>
        </div>
      </section>
      <section class="desktop:hidden">
        <div class="m-auto max-w-[360px] w-full relative">
          <div class="hidden nav-sections">
            <div
              class="mt-[10px] ml-[22px] flex bg-[#232229] w-[320px] h-[48px] gap-[8px] rounded-[13px] items-center pl-[12px] mb-[24px]"
            >
              <img
                class="w-[24px] cursor-pointer"
                src="./public/svg/search-icon-desktop.svg"
                alt=""
              />
              <input
                class="bg-[#232229] h-[28px] w-[250px]"
                type="text"
                name=""
                id=""
                placeholder="Search"
              />
            </div>
            <div>
              <ul
                class="text-[#FFFFFF] text-[20px] font-medium mb-[50px] ml-[22px]"
              >
                <a href="#" class="mr-[37px] hover:text-[#E13C52]"
                  ><li>Movies</li></a
                >
                <a href="#" class="mr-[37px] hover:text-[#E13C52]"
                  ><li>Series</li></a
                >
                <a href="#" class="mr-[37px] hover:text-[#E13C52]"
                  ><li>Channels</li></a
                >
                <a href="#" class="hover:text-[#E13C52]"><li>Music</li></a>
              </ul>
            </div>
            <div class="flex gap-[8px] ml-[22px]">
              <img
                src="./public/svg/desktop-sing-in.svg"
                class="pt-[4px]"
                alt="search"
              />
              <p
                class="text-[#FFFFFF] text-[24px] font-semibold hover:text-[#E13C52]"
              >
                Sign in
              </p>
            </div>
          </div>
          <div
            class="max-w-[360px] h-[390px] bg-[url('/public/img/header-bg-mobile.png')] bg-cover bg-center"
          ></div>
          <div class="pt-[20px] text-center">
            <h1 class="text-[24px] font-light mb-[20px]">
              Dive into a <strong class="font-bold">universe</strong> of
              <br />un-ending content and <br />channels <br />
            </h1>
            <button
              class="w-[174px] h-[48px] rounded-[60px] bg-[#E13C52] text-[16px] duration-300"
            >
              Start FREE trial
            </button>
          </div>
        </div>
      </section>
    </header>
    <section class="flex-col hidden desktop:flex h-[1300px]">
      <div class="max-w-[1920px] w-full m-auto px-[64px] relative">
        <div class="absolute top-[-1035px] left-[0px]">
          <img src="./public/img/bg.png" alt="" />
        </div>
        <div
          class="absolute top-[-590px] left-[63px] z-50 grid grid-cols-7 gap-[50px] max-w-[1780px] movie-grid"
        ></div>
      </div>
    </section>
    <section class="desktop:hidden pt-[52px] mb-[83px]">
      <div
        class="max-w-[360px] w-full m-auto relative bg-[url('/public/img/bg-mobile.png')] h-full bg-cover bg-center"
      >
        <div
          class="grid grid-cols-3 pl-[10px] pr-[9px] gap-[15px] mobile-movie-grid"
        ></div>
      </div>
    </section>
    <footer class="bg-[#191919] flex-col desktop:flex hidden">
      <div
        class="max-w-[1920px] w-full m-auto flex gap-[387px] items-start pt-[61px] pl-[70px] pb-[49px]"
      >
        <div class="pt-[16px] max-w-[350px] w-full">
          <img src="./public/svg/footer-logo.svg" alt="logo" />
          <p
            class="mt-[102px] mb-[39px] text-[#8D8D8D] text-[16px] font-normal"
          >
            Hot Africa, we offer original, exclusive <br />and premium stories.
            Everything you <br />want to watch, anytime, anywhere and <br />as
            much.
          </p>
          <img
            class="cursor-pointer mb-[34px]"
            src="./public/svg/play-market-and-app-store.svg"
            alt=""
          />
          <div class="flex gap-[40px] items-center mb-[57px]">
            <img
              class="cursor-pointer"
              src="./public/svg/facebook.svg"
              alt=""
            />
            <img
              class="cursor-pointer"
              src="./public/svg/instagramm.svg"
              alt=""
            />
            <img class="cursor-pointer" src="./public/svg/twitter.svg" alt="" />
            <img class="cursor-pointer" src="./public/svg/youtube.svg" alt="" />
          </div>
          <div>
            <p class="text-[#616161] text-[16px] font-medium mb-[15px]">
              Terms of use Privacy Policy SiteMap
            </p>
            <p class="text-[#616161] text-[16px] font-medium">
              Copyright © 2022 Hot Africa. All rights reserved.
            </p>
          </div>
        </div>
        <div class="flex">
          <div class="mr-[190px]">
            <div class="flex gap-[8px] cursor-pointer mb-[24px]">
              <img
                src="./public/svg/desktop-sing-in.svg"
                class="pt-[4px]"
                alt="search"
              />
              <p
                class="text-[#FFFFFF] text-[24px] font-semibold duration-300 hover:text-[#E13C52]"
              >
                Sign in
              </p>
            </div>
            <div class="flex flex-col gap-[25px]">
              <a href="" class="text-[#797979] text-[18px] font-normal"
                >Personal data</a
              >
              <a href="" class="text-[#797979] text-[18px] font-normal"
                >Choosing a Plan</a
              >
              <a href="" class="text-[#797979] text-[18px] font-normal"
                >Payment</a
              >
            </div>
          </div>
          <div class="flex flex-col gap-[21px] mr-[157px]">
            <a
              href=""
              class="text-[#FFFFFF] text-[24px] font-semibold duration-300 hover:text-[#E13C52]"
              >Movies</a
            >
            <a href="" class="text-[#797979] text-[18px] font-normal"
              >Lock Upp</a
            >
            <a href="" class="text-[#797979] text-[18px] font-normal"
              >Pavitra Rishta</a
            >
            <a href="" class="text-[#797979] text-[18px] font-normal">Girgit</a>
            <a href="" class="text-[#797979] text-[18px] font-normal"
              >Hai Taubba Season 3</a
            >
            <a href="" class="text-[#797979] text-[18px] font-normal">Cartel</a>
            <a href="" class="text-[#797979] text-[18px] font-normal"
              >Crimes And Confessions</a
            >
            <a href="" class="text-[#797979] text-[18px] font-normal"
              >Puncch Beat Season 2</a
            >
            <a href="" class="text-[#797979] text-[18px] font-normal"
              >Broken But Beautiful Season 3</a
            >
          </div>
          <div class="flex flex-col gap-[21px]">
            <a
              href=""
              class="text-[#FFFFFF] text-[24px] font-semibold duration-300 hover:text-[#E13C52]"
              >Series</a
            >
            <a href="" class="text-[#797979] text-[18px] font-normal"
              >X.X.X. Season 2</a
            >
            <a href="" class="text-[#797979] text-[18px] font-normal"
              >Gandii Baat Season 5</a
            >
            <a href="" class="text-[#797979] text-[18px] font-normal"
              >Gandii Baat Season 6</a
            >
            <a href="" class="text-[#797979] text-[18px] font-normal"
              >Broken But Beautiful Season 1</a
            >
            <a href="" class="text-[#797979] text-[18px] font-normal"
              >Broken But Beautiful Season 2</a
            >
            <a href="" class="text-[#797979] text-[18px] font-normal"
              >Class Of 2020</a
            >
            <a href="" class="text-[#797979] text-[18px] font-normal"
              >Bekaaboo Season 1</a
            >
            <a href="" class="text-[#797979] text-[18px] font-normal"
              >Ragini MMS Returns Season 2</a
            >
          </div>
        </div>
      </div>
    </footer>
    <footer class="desktop:hidden bg-[#191919] h-[950px]">
      <div class="max-w-[360px] m-auto py-[54px] px-[20px]">
        <hr class="borde-[1px] border-[#262626] mb-[12px]" />
        <div class="flex items-center justify-between">
          <div class="flex gap-[8px] cursor-pointer mb-[12px]">
            <img
              src="./public/svg/desktop-sing-in.svg"
              class="pt-[4px]"
              alt="search"
            />
            <p
              class="text-[#FFFFFF] text-[24px] font-semibold duration-300 hover:text-[#E13C52]"
            >
              Sign in
            </p>
          </div>
          <div>
            <img
              class="cursor-pointer"
              src="./public/svg/mobile-footer-plus.svg"
              alt=""
            />
          </div>
        </div>
        <hr class="borde-[1px] border-[#262626] mb-[12px]" />
        <div class="flex items-center justify-between">
          <div class="cursor-pointer mb-[12px]">
            <p
              class="text-[#FFFFFF] text-[24px] font-semibold duration-300 hover:text-[#E13C52]"
            >
              Company
            </p>
          </div>
          <div>
            <img
              class="cursor-pointer"
              src="./public/svg/mobile-footer-plus.svg"
              alt=""
            />
          </div>
        </div>
        <hr class="borde-[1px] border-[#262626] mb-[12px]" />
        <div class="flex items-center justify-between">
          <div class="cursor-pointer mb-[12px]">
            <p
              class="text-[#FFFFFF] text-[24px] font-semibold duration-300 hover:text-[#E13C52]"
            >
              Movies
            </p>
          </div>
          <div>
            <img
              class="cursor-pointer"
              src="./public/svg/mobile-footer-plus.svg"
              alt=""
            />
          </div>
        </div>
        <hr class="borde-[1px] border-[#262626] mb-[12px]" />
        <div class="flex items-center justify-between">
          <div class="cursor-pointer mb-[12px]">
            <p
              class="text-[#FFFFFF] text-[24px] font-semibold duration-300 hover:text-[#E13C52]"
            >
              Series
            </p>
          </div>
          <div>
            <img
              class="cursor-pointer"
              src="./public/svg/mobile-footer-plus.svg"
              alt=""
            />
          </div>
        </div>
        <hr class="borde-[1px] border-[#262626] mb-[12px]" />
        <div class="pt-[58px] pb-[43px] pl-[95px]">
          <img
            class="w-[170.47px] h-[91px]"
            src="./public/svg/footer-logo.svg"
            alt=""
          />
        </div>
        <div class="pl-[40px] mb-[30px]">
          <p class="text-center text-[16px] text-[#8D8D8D]">
            Hot Africa, we offer original, exclusive <br />and premium stories.
            Everything you <br />want to watch, anytime, anywhere and <br />as
            much.
          </p>
        </div>
        <div class="pl-[40px] mb-[30px]">
          <img src="./public/svg/play-market-and-app-store.svg" alt="" />
        </div>
        <div class="px-[20px] flex gap-[52px] mb-[30px]">
          <img src="./public/svg/facebook.svg" alt="" />
          <img src="./public/svg/instagramm.svg" alt="" />
          <img src="./public/svg/twitter.svg" alt="" />
          <img src="./public/svg/youtube.svg" alt="" />
        </div>
        <div class="pl-[23px]">
          <p class="text-[#616161] text-[16px] font-normal mb-[16px]">
            Terms of use <span class="ml-[20px]">Privacy Policy</span>
            <span class="ml-[20px]">SiteMap</span>
          </p>
          <p class="text-[#616161] text-[16px] font-normal">
            Copyright © 2022 Hot Africa. <br />All rights reserved.
          </p>
        </div>
      </div>
    </footer>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const menuButton = document.getElementById("nav-sections");
        const menuContainer = document.querySelector(".nav-sections");

        if (!menuButton || !menuContainer) return;

        menuButton.addEventListener("click", () => {
          menuContainer.classList.toggle("hidden");

          const img = menuButton.querySelector("img");
          if (img) {
            if (menuContainer.classList.contains("hidden")) {
              img.src = "/public/svg/mobile-nav-sections.svg";
              img.alt = "sections";
            } else {
              img.src = "/public/img/x.png";
              img.alt = "close";
            }
          }
        });

        document.addEventListener("click", (e) => {
          if (
            !menuContainer.contains(e.target) &&
            !menuButton.contains(e.target)
          ) {
            if (!menuContainer.classList.contains("hidden")) {
              menuContainer.classList.add("hidden");
              const img = menuButton.querySelector("img");
              if (img) {
                img.src = "/public/svg/mobile-nav-sections.svg";
                img.alt = "sections";
              }
            }
          }
        });
      });

      document.addEventListener("DOMContentLoaded", () => {
        const movieGrid = document.querySelector(".movie-grid");

        if (movieGrid) {
          fetch("https://api.imdbapi.dev/titles")
            .then((response) => {
              if (!response.ok) {
                throw new Error(
                  "API javobi muvaffaqiyatsiz: " + response.status,
                );
              }
              return response.json();
            })
            .then((data) => {
              if (data.titles && Array.isArray(data.titles)) {
                const titlesWithPoster = data.titles
                  .filter(
                    (title) => title.primaryImage && title.primaryImage.url,
                  )
                  .slice(0, 21);

                titlesWithPoster.forEach((title) => {
                  const posterUrl = title.primaryImage.url;
                  const imdbId = title.id;

                  const img = document.createElement("img");
                  img.src = posterUrl;
                  img.alt = title.primaryTitle || "Movie poster";
                  img.loading = "lazy";

                  img.addEventListener("click", () => {
                    window.location.href = `film.html?id=${imdbId}`;
                  });

                  movieGrid.appendChild(img);
                });

                if (titlesWithPoster.length < 21) {
                  for (let i = titlesWithPoster.length; i < 21; i++) {
                    const placeholder = document.createElement("div");
                    placeholder.style.width = "231px";
                    placeholder.style.height = "347.82px";
                    placeholder.style.background = "#1a1a1a";
                    placeholder.style.borderRadius = "12px";
                    movieGrid.appendChild(placeholder);
                  }
                }
              } else {
                console.warn("titles array topilmadi yoki bo'sh");
              }
            })
            .catch((error) => {
              console.error("API xatosi:", error);
              movieGrid.innerHTML =
                '<p class="col-span-7 text-center text-red-500">Kinolar yuklanmadi. Internetni tekshiring.</p>';
            });
        }
      });

      const mobileMovieGrid = document.querySelector(".mobile-movie-grid");

      if (mobileMovieGrid) {
        fetch("https://api.imdbapi.dev/titles")
          .then((response) => {
            if (!response.ok) {
              throw new Error("API xatosi: " + response.status);
            }
            return response.json();
          })
          .then((data) => {
            if (data.titles && Array.isArray(data.titles)) {
              const titlesWithPoster = data.titles
                .filter((title) => title.primaryImage && title.primaryImage.url)
                .slice(0, 30);

              titlesWithPoster.forEach((title) => {
                const posterUrl = title.primaryImage.url;
                const imdbId = title.id;

                const img = document.createElement("img");
                img.src = posterUrl;
                img.alt = title.primaryTitle || "Movie poster";
                img.loading = "lazy";

                img.addEventListener("click", () => {
                  window.location.href = `/film.html?id=${imdbId}`;
                });

                mobileMovieGrid.appendChild(img);
              });

              if (titlesWithPoster.length < 30) {
                for (let i = titlesWithPoster.length; i < 30; i++) {
                  const placeholder = document.createElement("div");
                  placeholder.style.width = "111px";
                  placeholder.style.height = "155px";
                  placeholder.style.background = "#1a1a1a";
                  placeholder.style.borderRadius = "8px";
                  mobileMovieGrid.appendChild(placeholder);
                }
              }
            }
          })
          .catch((error) => {
            console.error("Mobil API xatosi:", error);
            mobileMovieGrid.innerHTML =
              '<p class="col-span-3 py-4 text-center text-red-500">Ma\'lumotlar yuklanmadi</p>';
          });
      }
    </script>
  </body>
</html>
